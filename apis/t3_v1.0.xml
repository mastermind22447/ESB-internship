<?xml version="1.0" encoding="UTF-8"?>
<api xmlns="http://ws.apache.org/ns/synapse" name="Task3API" context="/services/training/v1.0/task/3">
    <resource methods="GET" uri-template="/{id}">
        <inSequence>
            <property name="id" expression="$url:id" scope="default"/>
            <property name="param" expression="get-property('uri.var.param')" scope="default"/>
            <property name="number" expression="get-property('transport','number')" scope="default"/>
            <payloadFactory media-type="json">
                <format>
                    {
                    "id":"$1",
                    "param":"$2",
                    "number":"$3"
                    }
                </format>
                <args>
                    <arg expression="get-property('id')"/>
                    <arg expression="get-property('param')"/>
                    <arg expression="get-property('number')"/>
                </args>
            </payloadFactory>
            <property name="messageType" value="application/json" scope="axis2"/>
            <respond/>
        </inSequence>
    </resource>
</api>
